(this.webpackJsonpolgraph=this.webpackJsonpolgraph||[]).push([[0],{174:function(t,e,n){},184:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(27),i=n.n(c),o=(n(174),n(10)),s=n(14),l=n(20),d=n(242),h=n(245),u=n(244),j=n(238),b=n(243),p=n(241),g=n(2);function f(t){var e=t.Title,n=t.Subtitle,a=t.ImageUrl,r=t.ImageAltText,c=t.Url;return Object(g.jsx)(p.a,{href:c,target:"_blank",children:Object(g.jsx)(d.a,{sx:{maxWidth:345},children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(u.a,{component:"img",height:"140",image:a,alt:r}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)(j.a,{gutterBottom:!0,variant:"h5",component:"div",children:e}),Object(g.jsx)(j.a,{variant:"h6",color:"text.secondary",children:n})]})]})})})}var O=function(t){var e=t.Book;return Object(g.jsx)(f,{Url:"https://openlibrary.org/".concat(e.key),ImageAltText:"".concat(e.title," by ").concat(e.author_name),Title:e.title,Subtitle:e.author_name,ImageUrl:"https://covers.openlibrary.org/b/id/".concat(e.cover_i,"-M.jpg")})},x=n(232);var m=function(t){var e=Object(a.useRef)(null),n=void 0!==t.GraphWidth?t.GraphWidth:600,c=void 0!==t.GraphHeight?t.GraphHeight:500,i=Object(a.useState)(""),d=Object(o.a)(i,2),h=d[0],u=d[1],b=Object(a.useState)([]),p=Object(o.a)(b,2),f=p[0],m=p[1];n=n>document.width?document.width:n,Object(a.useEffect)((function(){var a=l.g(e.current);a.selectAll("*").remove();var r=a.attr("width",n).attr("height",c).append("g").attr("transform","translate(".concat(60,", ").concat(-20,")")),i=l.d(t.Data,(function(t){return t.length}),(function(t){return t.first_publish_year}));i.delete(void 0);var o=l.e().range([0,n-60]).domain(l.h(i.keys())).padding(.2);r.append("g").attr("transform","translate(0,".concat(c,")")).call(l.a(o)).selectAll("text").style("text-anchor","end");var d=l.f().domain([0,l.c(i.values())- -5]).range([c,0]);r.append("g").call(l.b(d)),r.selectAll().data(i).enter().append("rect").attr("x",(function(t){return o(t[0])})).attr("y",(function(t){return d(t[1])})).attr("width",o.bandwidth()).attr("height",(function(t){return c-d(t[1])})).attr("fill","#4401ff").style("stroke-width",4).style("stroke","none").style("opacity",.8).style("stroke",(function(t){return f.indexOf(t[0])>-1?"red":"none"})).style("cursor","pointer").on("mouseover",(function(t,e){u("".concat(e[1]," book").concat(e[1]>1?"s":""," published in ").concat(e[0])),l.g(t.target).style("stroke",f.indexOf(e[0])>-1?"red":"black").style("opacity",1)})).on("mouseleave",(function(t,e){u(""),l.g(t.target).style("stroke",f.indexOf(e[0])>-1?"red":"none").style("opacity",.8)})).on("click",(function(t,e){-1===f.indexOf(e[0])?m([].concat(Object(s.a)(f),[e[0]])):m(Object(s.a)(f.filter((function(t){return t!==e[0]})))),l.g(t.target).style("stroke",f.indexOf(e[0])>-1?"red":"black").style("opacity",1)}))}),[c,t,n,f]);var v=t.Data.filter((function(t){return f.indexOf(t.first_publish_year)>-1}));return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("svg",{ref:e})}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 0",marginBottom:"1.5rem"},children:[Object(g.jsx)(j.a,{variant:"body1",color:"info",children:h}),Object(g.jsx)(j.a,{children:v.length>0?"Showing ".concat(v.length," results for the selected years:"," ","\n          ").concat(f.join(", ")):"Showing 0 results. Please select some years to view the books published in that year."})]}),Object(g.jsx)(x.a,{container:!0,spacing:2,children:v.map((function(t,e){return Object(g.jsx)(x.a,{item:!0,md:4,children:Object(g.jsx)(O,{Book:t})})}))})]})},v=n(7),y=n(6),k=n(224),w=n(239),S=n(235),B=n(240),C=n(233),H=n(227),I=n(229),L=n(228),G=n(87),M=n.n(G),_=Object(y.a)("div")((function(t){var e=t.theme;return Object(v.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(k.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(k.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"})})),T=Object(y.a)("div")((function(t){return{padding:t.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),D=Object(y.a)(I.a)((function(t){var e=t.theme;return{color:"inherit","& .MuiInputBase-input":Object(v.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));var E=function(t){var e=t.SearchBarHandler,n=t.SearchBarValue,r=t.SearchButtonHandler,c=t.LoadMoreButtonHandler,i=a.useState(null),s=Object(o.a)(i,2),l=s[0],d=s[1],h=a.useState(null),u=Object(o.a)(h,2),b=u[0],p=u[1],f=Boolean(l),O=Boolean(b),x=function(){p(null)},m=Object(g.jsx)(L.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:function(){d(null),x()}}),v=Object(g.jsx)(L.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:x});return Object(g.jsxs)(S.a,{sx:{flexGrow:1},children:[Object(g.jsx)(w.a,{position:"static",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(j.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"OL Graph"}),Object(g.jsxs)(_,{children:[Object(g.jsx)(T,{children:Object(g.jsx)(M.a,{})}),Object(g.jsx)(D,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onChange:e,value:n})]}),Object(g.jsxs)(H.a,{spacing:2,direction:"row",children:[Object(g.jsx)(C.a,{color:"secondary",variant:"contained",onClick:r,children:"Search"}),Object(g.jsx)(C.a,{color:"secondary",variant:"contained",onClick:c,children:"Load More Entries"})]})]})}),v,m]})},A=n(234),F=n(236),W=n(237),z=n(0),P=z.useState,R=z.useCallback;var U=function(){var t=P(""),e=Object(o.a)(t,2),n=e[0],a=e[1],r=P(!1),c=Object(o.a)(r,2),i=c[0],s=c[1],l=P([]),d=Object(o.a)(l,2),h=d[0],u=d[1],j=P(1),b=Object(o.a)(j,2),p=b[0],f=b[1],O=R((function(t){f(t?p+1:1),fetch("http://openlibrary.org/search.json?q=".concat(n.replace(/\s/g,"+"),"&page=").concat(p)).then((function(t){return t.json()})).then((function(e){u(t?h.concat(e.docs):e.docs),s(!1)})).catch((function(t){s(!1),console.log(t)}))}),[p,n,h]);return Object(g.jsxs)("div",{children:[Object(g.jsx)(E,{SearchBarHandler:function(t){return a(t.target.value)},SearchButtonHandler:function(t){t.preventDefault(),O(!1)},LoadMoreButtonHandler:function(t){t.preventDefault(),O(!0)},SearchBarValue:n}),Object(g.jsx)(F.a,{sx:{marginTop:"2rem"},children:Object(g.jsxs)(A.a,{children:[i?Object(g.jsx)(S.a,{sx:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(W.a,{})}):"",Object(g.jsx)("div",{children:h.length>0?Object(g.jsx)(m,{Data:h,GraphHeight:400,GraphWidth:1e3}):""})]})})]})};var J=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(U,{})})},V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),V()}},[[184,1,2]]]);
//# sourceMappingURL=main.d9ae9350.chunk.js.map